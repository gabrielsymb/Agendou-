# üå≥ Estrutura do Projeto (Agendou!)

Resumo conciso da estrutura atual do reposit√≥rio e responsabilidades principais.

Observa√ß√µes r√°pidas:

- Frontend: SvelteKit + TypeScript. Componentes reutiliz√°veis em `frontend/src/lib/components`.
- Backend: Rust (Axum) com persist√™ncia em SQLite. Helpers de disponibilidade e work_windows em `beckend/src/db/mod.rs`.

√Årvore resumida:

/
‚îú‚îÄ‚îÄ beckend/
‚îÇ ‚îú‚îÄ‚îÄ Cargo.toml
‚îÇ ‚îî‚îÄ‚îÄ src/
‚îÇ ‚îú‚îÄ‚îÄ db/ # Conex√£o SQLite, cria√ß√£o de tabelas, calcular_disponibilidade, work_windows
‚îÇ ‚îú‚îÄ‚îÄ models/ # Structs: Cliente, Servico, Agendamento
‚îÇ ‚îú‚îÄ‚îÄ agendamentos.rs # Handlers: availability, work_windows, criar/agendar
‚îÇ ‚îî‚îÄ‚îÄ main.rs # Registro de rotas e inicializa√ß√£o
‚îú‚îÄ‚îÄ frontend/
‚îÇ ‚îú‚îÄ‚îÄ package.json
‚îÇ ‚îî‚îÄ‚îÄ src/
‚îÇ ‚îú‚îÄ‚îÄ lib/components/ # AvailabilityPicker, WheelPicker, Autocomplete, SideSheet, Toasts, etc.
‚îÇ ‚îú‚îÄ‚îÄ lib/icons.ts # SVG icons
‚îÇ ‚îî‚îÄ‚îÄ routes/ # +layout.svelte, agendamentos, clientes, servicos, api proxies
‚îú‚îÄ‚îÄ doc/ # Documenta√ß√£o: PROJECT_STRUCTURE.MD, contexto_projeto.txt, UX guidelines
‚îî‚îÄ‚îÄ .gitignore

Principais endpoints (resumido):

- GET /availability -> retorna { slots: string[] } (consumido por AvailabilityPicker)
- GET /work_windows, POST /work_windows -> listar/criar janelas de trabalho
- Proxies em frontend: `frontend/src/routes/api/*/+server.ts` encaminham requisi√ß√µes para o backend usando `PRIVATE_API_BASE`.

Observa√ß√£o: a rota `/agendamentos` no frontend realiza um `load` que busca `/api/agendamentos`, `/api/clientes` e `/api/servicos` e usa esses arrays para renderizar nomes leg√≠veis (fazer lookup local). O frontend tamb√©m aplica uma regra de exibi√ß√£o de nomes: mant√©m o primeiro nome por extenso e abrevia as demais palavras como iniciais.

Como rodar (dev):

- Backend: `cd beckend && cargo run`
- Frontend: `cd frontend && npm install && npm run dev -- --host`

Use este arquivo como vis√£o geral; detalhes sobre UX e l√≥gica est√£o em `AGENDAMENTO_UX_GUIDELINES.md` e `logic_agendamento.md`.
